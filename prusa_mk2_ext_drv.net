(export (version D)
  (design
    (source /home/dragos/kicad/prusa_mk2_ext_drv/prusa_mk2_ext_drv.sch)
    (date "Sat 15 Jan 2022 07:42:23 PM EET")
    (tool "Eeschema 5.1.10")
    (sheet (number 1) (name /) (tstamps /)
      (title_block
        (title)
        (company)
        (rev)
        (date)
        (source prusa_mk2_ext_drv.sch)
        (comment (number 1) (value ""))
        (comment (number 2) (value ""))
        (comment (number 3) (value ""))
        (comment (number 4) (value "")))))
  (components
    (comp (ref CN3)
      (value X_MOT)
      (footprint prusa_mk2_ext_drv:Molex_70553_4P)
      (libsource (lib conn) (part CONN_01X04) (description "Connector, single row, 01x04, pin header"))
      (sheetpath (names /) (tstamps /))
      (tstamp 61E1DDCC))
    (comp (ref MD1)
      (value TMC2209_X)
      (footprint prusa_mk2_ext_drv:STEPSTICK)
      (libsource (lib prusa_mk2_ext_drv) (part STEPSTICK) (description ""))
      (sheetpath (names /) (tstamps /))
      (tstamp 61E1EC05))
    (comp (ref CP3)
      (value 220u/35V)
      (footprint prusa_mk2_ext_drv:CP_Radial_D8.0mm_P3.50mm)
      (libsource (lib device) (part CP) (description "Polarised capacitor"))
      (sheetpath (names /) (tstamps /))
      (tstamp 61E20D4E))
    (comp (ref C2)
      (value 100n/35V)
      (footprint Capacitors_ThroughHole:C_Rect_L7_W2.5_P5)
      (libsource (lib device) (part C) (description "Unpolarized capacitor"))
      (sheetpath (names /) (tstamps /))
      (tstamp 61E22B0E))
    (comp (ref C1)
      (value 100n/35V)
      (footprint Capacitors_ThroughHole:C_Rect_L7_W2.5_P5)
      (libsource (lib device) (part C) (description "Unpolarized capacitor"))
      (sheetpath (names /) (tstamps /))
      (tstamp 61E2971D))
    (comp (ref CN4)
      (value Y_MOT)
      (footprint prusa_mk2_ext_drv:Molex_70553_4P)
      (libsource (lib conn) (part CONN_01X04) (description "Connector, single row, 01x04, pin header"))
      (sheetpath (names /) (tstamps /))
      (tstamp 61E2F93C))
    (comp (ref MD2)
      (value TMC2209_Y)
      (footprint prusa_mk2_ext_drv:STEPSTICK)
      (libsource (lib prusa_mk2_ext_drv) (part STEPSTICK) (description ""))
      (sheetpath (names /) (tstamps /))
      (tstamp 61E2F942))
    (comp (ref CP2)
      (value 220u/35V)
      (footprint prusa_mk2_ext_drv:CP_Radial_D8.0mm_P3.50mm)
      (libsource (lib device) (part CP) (description "Polarised capacitor"))
      (sheetpath (names /) (tstamps /))
      (tstamp 61E2F948))
    (comp (ref C4)
      (value 100n/35V)
      (footprint Capacitors_ThroughHole:C_Rect_L7_W2.5_P5)
      (libsource (lib device) (part C) (description "Unpolarized capacitor"))
      (sheetpath (names /) (tstamps /))
      (tstamp 61E2F94E))
    (comp (ref C3)
      (value 100n/35V)
      (footprint Capacitors_ThroughHole:C_Rect_L7_W2.5_P5)
      (libsource (lib device) (part C) (description "Unpolarized capacitor"))
      (sheetpath (names /) (tstamps /))
      (tstamp 61E2F97A))
    (comp (ref CN2)
      (value MiniRambo)
      (footprint Connectors:IDC_Header_Straight_12pins)
      (libsource (lib conn) (part CONN_02X06) (description "Connector, double row, 02x06, pin header"))
      (sheetpath (names /) (tstamps /))
      (tstamp 61E44515))
    (comp (ref CP1)
      (value 47u/35V)
      (footprint prusa_mk2_ext_drv:CP_Radial_D6.3mm_P2.50mm)
      (libsource (lib device) (part CP) (description "Polarised capacitor"))
      (sheetpath (names /) (tstamps /))
      (tstamp 61E2B6BF))
    (comp (ref R7)
      (value 100k)
      (footprint prusa_mk2_ext_drv:R_Axial_DIN0204_L3.6mm_D1.6mm_P5.08mm_Horizontal)
      (libsource (lib device) (part R) (description Resistor))
      (sheetpath (names /) (tstamps /))
      (tstamp 61E33FE1))
    (comp (ref R10)
      (value 100k)
      (footprint prusa_mk2_ext_drv:R_Axial_DIN0204_L3.6mm_D1.6mm_P5.08mm_Horizontal)
      (libsource (lib device) (part R) (description Resistor))
      (sheetpath (names /) (tstamps /))
      (tstamp 61E3AFCA))
    (comp (ref J3)
      (value CfgX)
      (footprint prusa_mk2_ext_drv:JP_2.54mm_2x3PIN)
      (libsource (lib conn) (part CONN_02X03) (description "Connector, double row, 02x03, pin header"))
      (sheetpath (names /) (tstamps /))
      (tstamp 61E4E04C))
    (comp (ref J4)
      (value CfgY)
      (footprint prusa_mk2_ext_drv:JP_2.54mm_2x3PIN)
      (libsource (lib conn) (part CONN_02X03) (description "Connector, double row, 02x03, pin header"))
      (sheetpath (names /) (tstamps /))
      (tstamp 61E4FC3E))
    (comp (ref Q1)
      (value BC546)
      (footprint prusa_mk2_ext_drv:TO-92_Inline_Wide)
      (datasheet http://www.fairchildsemi.com/ds/BC/BC547.pdf)
      (libsource (lib transistors) (part BC546) (description "65V Vce, 0.1A Ic, NPN, Small Signal Transistor, TO-92"))
      (sheetpath (names /) (tstamps /))
      (tstamp 61E73F21))
    (comp (ref J1)
      (value DirRevX)
      (footprint prusa_mk2_ext_drv:JP_2.54mm_3PIN)
      (libsource (lib conn) (part CONN_01X03) (description "Connector, single row, 01x03, pin header"))
      (sheetpath (names /) (tstamps /))
      (tstamp 61E75930))
    (comp (ref R3)
      (value 100k)
      (footprint prusa_mk2_ext_drv:R_Axial_DIN0204_L3.6mm_D1.6mm_P5.08mm_Horizontal)
      (libsource (lib device) (part R) (description Resistor))
      (sheetpath (names /) (tstamps /))
      (tstamp 61E795C2))
    (comp (ref R5)
      (value 10k)
      (footprint prusa_mk2_ext_drv:R_Axial_DIN0204_L3.6mm_D1.6mm_P5.08mm_Horizontal)
      (libsource (lib device) (part R) (description Resistor))
      (sheetpath (names /) (tstamps /))
      (tstamp 61E83084))
    (comp (ref Q2)
      (value BC546)
      (footprint prusa_mk2_ext_drv:TO-92_Inline_Wide)
      (datasheet http://www.fairchildsemi.com/ds/BC/BC547.pdf)
      (libsource (lib transistors) (part BC546) (description "65V Vce, 0.1A Ic, NPN, Small Signal Transistor, TO-92"))
      (sheetpath (names /) (tstamps /))
      (tstamp 61E9534B))
    (comp (ref J2)
      (value DirRevY)
      (footprint prusa_mk2_ext_drv:JP_2.54mm_3PIN)
      (libsource (lib conn) (part CONN_01X03) (description "Connector, single row, 01x03, pin header"))
      (sheetpath (names /) (tstamps /))
      (tstamp 61E95351))
    (comp (ref R4)
      (value 100k)
      (footprint prusa_mk2_ext_drv:R_Axial_DIN0204_L3.6mm_D1.6mm_P5.08mm_Horizontal)
      (libsource (lib device) (part R) (description Resistor))
      (sheetpath (names /) (tstamps /))
      (tstamp 61E95357))
    (comp (ref R6)
      (value 10k)
      (footprint prusa_mk2_ext_drv:R_Axial_DIN0204_L3.6mm_D1.6mm_P5.08mm_Horizontal)
      (libsource (lib device) (part R) (description Resistor))
      (sheetpath (names /) (tstamps /))
      (tstamp 61EA5DDE))
    (comp (ref R2)
      (value 10k)
      (footprint prusa_mk2_ext_drv:R_Axial_DIN0204_L3.6mm_D1.6mm_P5.08mm_Horizontal)
      (libsource (lib device) (part R) (description Resistor))
      (sheetpath (names /) (tstamps /))
      (tstamp 61EB2512))
    (comp (ref R1)
      (value 10k)
      (footprint prusa_mk2_ext_drv:R_Axial_DIN0204_L3.6mm_D1.6mm_P5.08mm_Horizontal)
      (libsource (lib device) (part R) (description Resistor))
      (sheetpath (names /) (tstamps /))
      (tstamp 61EB9D81))
    (comp (ref R12)
      (value 100k)
      (footprint prusa_mk2_ext_drv:R_Axial_DIN0204_L3.6mm_D1.6mm_P5.08mm_Horizontal)
      (libsource (lib device) (part R) (description Resistor))
      (sheetpath (names /) (tstamps /))
      (tstamp 61EEE37D))
    (comp (ref R9)
      (value 100k)
      (footprint prusa_mk2_ext_drv:R_Axial_DIN0204_L3.6mm_D1.6mm_P5.08mm_Horizontal)
      (libsource (lib device) (part R) (description Resistor))
      (sheetpath (names /) (tstamps /))
      (tstamp 61EEE5F1))
    (comp (ref R8)
      (value 100k)
      (footprint prusa_mk2_ext_drv:R_Axial_DIN0204_L3.6mm_D1.6mm_P5.08mm_Horizontal)
      (libsource (lib device) (part R) (description Resistor))
      (sheetpath (names /) (tstamps /))
      (tstamp 61EF5857))
    (comp (ref R11)
      (value 100k)
      (footprint prusa_mk2_ext_drv:R_Axial_DIN0204_L3.6mm_D1.6mm_P5.08mm_Horizontal)
      (libsource (lib device) (part R) (description Resistor))
      (sheetpath (names /) (tstamps /))
      (tstamp 61EF597C))
    (comp (ref R14)
      (value 10k)
      (footprint prusa_mk2_ext_drv:R_Axial_DIN0204_L3.6mm_D1.6mm_P5.08mm_Horizontal)
      (libsource (lib device) (part R) (description Resistor))
      (sheetpath (names /) (tstamps /))
      (tstamp 61FA709D))
    (comp (ref R13)
      (value 10k)
      (footprint prusa_mk2_ext_drv:R_Axial_DIN0204_L3.6mm_D1.6mm_P5.08mm_Horizontal)
      (libsource (lib device) (part R) (description Resistor))
      (sheetpath (names /) (tstamps /))
      (tstamp 61FA7688))
    (comp (ref CN1)
      (value FAN)
      (footprint Connectors:Fan_Pin_Header_Straight_1x03)
      (libsource (lib conn) (part CONN_01X03) (description "Connector, single row, 01x03, pin header"))
      (sheetpath (names /) (tstamps /))
      (tstamp 6201ED9F)))
  (libparts
    (libpart (lib conn) (part CONN_01X03)
      (description "Connector, single row, 01x03, pin header")
      (footprints
        (fp Pin_Header_Straight_1X*)
        (fp Pin_Header_Angled_1X*)
        (fp Socket_Strip_Straight_1X*)
        (fp Socket_Strip_Angled_1X*))
      (fields
        (field (name Reference) J)
        (field (name Value) CONN_01X03))
      (pins
        (pin (num 1) (name P1) (type passive))
        (pin (num 2) (name P2) (type passive))
        (pin (num 3) (name P3) (type passive))))
    (libpart (lib conn) (part CONN_01X04)
      (description "Connector, single row, 01x04, pin header")
      (footprints
        (fp Pin_Header_Straight_1X*)
        (fp Pin_Header_Angled_1X*)
        (fp Socket_Strip_Straight_1X*)
        (fp Socket_Strip_Angled_1X*))
      (fields
        (field (name Reference) J)
        (field (name Value) CONN_01X04))
      (pins
        (pin (num 1) (name P1) (type passive))
        (pin (num 2) (name P2) (type passive))
        (pin (num 3) (name P3) (type passive))
        (pin (num 4) (name P4) (type passive))))
    (libpart (lib conn) (part CONN_02X03)
      (description "Connector, double row, 02x03, pin header")
      (footprints
        (fp Pin_Header_Straight_2X*)
        (fp Pin_Header_Angled_2X*)
        (fp Socket_Strip_Straight_2X*)
        (fp Socket_Strip_Angled_2X*)
        (fp IDC_Header_Straight_*))
      (fields
        (field (name Reference) J)
        (field (name Value) CONN_02X03))
      (pins
        (pin (num 1) (name P1) (type passive))
        (pin (num 2) (name P2) (type passive))
        (pin (num 3) (name P3) (type passive))
        (pin (num 4) (name P4) (type passive))
        (pin (num 5) (name P5) (type passive))
        (pin (num 6) (name P6) (type passive))))
    (libpart (lib conn) (part CONN_02X06)
      (description "Connector, double row, 02x06, pin header")
      (footprints
        (fp Pin_Header_Straight_2X*)
        (fp Pin_Header_Angled_2X*)
        (fp Socket_Strip_Straight_2X*)
        (fp Socket_Strip_Angled_2X*)
        (fp IDC_Header_Straight_*))
      (fields
        (field (name Reference) J)
        (field (name Value) CONN_02X06))
      (pins
        (pin (num 1) (name P1) (type passive))
        (pin (num 2) (name P2) (type passive))
        (pin (num 3) (name P3) (type passive))
        (pin (num 4) (name P4) (type passive))
        (pin (num 5) (name P5) (type passive))
        (pin (num 6) (name P6) (type passive))
        (pin (num 7) (name P7) (type passive))
        (pin (num 8) (name P8) (type passive))
        (pin (num 9) (name P9) (type passive))
        (pin (num 10) (name P10) (type passive))
        (pin (num 11) (name P11) (type passive))
        (pin (num 12) (name P12) (type passive))))
    (libpart (lib device) (part C)
      (description "Unpolarized capacitor")
      (footprints
        (fp C_*))
      (fields
        (field (name Reference) C)
        (field (name Value) C))
      (pins
        (pin (num 1) (name ~) (type passive))
        (pin (num 2) (name ~) (type passive))))
    (libpart (lib device) (part CP)
      (description "Polarised capacitor")
      (footprints
        (fp CP_*))
      (fields
        (field (name Reference) C)
        (field (name Value) CP))
      (pins
        (pin (num 1) (name ~) (type passive))
        (pin (num 2) (name ~) (type passive))))
    (libpart (lib device) (part R)
      (description Resistor)
      (footprints
        (fp R_*)
        (fp R_*))
      (fields
        (field (name Reference) R)
        (field (name Value) R))
      (pins
        (pin (num 1) (name ~) (type passive))
        (pin (num 2) (name ~) (type passive))))
    (libpart (lib prusa_mk2_ext_drv) (part STEPSTICK)
      (fields
        (field (name Reference) MD)
        (field (name Value) STEPSTICK))
      (pins
        (pin (num 1) (name EN) (type input))
        (pin (num 2) (name MS1) (type passive))
        (pin (num 3) (name MS2) (type passive))
        (pin (num 4) (name MS3) (type passive))
        (pin (num 5) (name RESET) (type input))
        (pin (num 6) (name SLEEP) (type input))
        (pin (num 7) (name STEP) (type input))
        (pin (num 8) (name DIR) (type input))
        (pin (num 9) (name GND) (type power_in))
        (pin (num 10) (name VDD) (type power_in))
        (pin (num 11) (name 1B) (type output))
        (pin (num 12) (name 1A) (type output))
        (pin (num 13) (name 2A) (type output))
        (pin (num 14) (name 2B) (type output))
        (pin (num 15) (name GND) (type power_in))
        (pin (num 16) (name VMOT) (type power_in))))
    (libpart (lib transistors) (part BC547)
      (aliases
        (alias BC546)
        (alias BC548)
        (alias BC549)
        (alias BC550)
        (alias BC337)
        (alias BC338))
      (description "45V Vce, 0.1A Ic, NPN, Small Signal Transistor, TO-92")
      (docs http://www.fairchildsemi.com/ds/BC/BC547.pdf)
      (footprints
        (fp TO?92*))
      (fields
        (field (name Reference) Q)
        (field (name Value) BC547)
        (field (name Footprint) TO_SOT_Packages_THT:TO-92_Molded_Narrow))
      (pins
        (pin (num 1) (name C) (type passive))
        (pin (num 2) (name B) (type input))
        (pin (num 3) (name E) (type passive)))))
  (libraries
    (library (logical conn)
      (uri /media/Storage/kicad_library/original/library/conn.lib))
    (library (logical device)
      (uri /media/Storage/kicad_library/original/library/device.lib))
    (library (logical prusa_mk2_ext_drv)
      (uri /home/dragos/kicad/prusa_mk2_ext_drv/prusa_mk2_ext_drv.lib/prusa_mk2_ext_drv.lib))
    (library (logical transistors)
      (uri /media/Storage/kicad_library/original/library/transistors.lib)))
  (nets
    (net (code 1) (name "Net-(J1-Pad3)")
      (node (ref J1) (pin 3))
      (node (ref Q1) (pin 1)))
    (net (code 2) (name "Net-(J1-Pad2)")
      (node (ref R5) (pin 1))
      (node (ref MD1) (pin 8))
      (node (ref J1) (pin 2)))
    (net (code 3) (name "Net-(Q1-Pad2)")
      (node (ref R3) (pin 1))
      (node (ref Q1) (pin 2)))
    (net (code 4) (name "Net-(CN2-Pad6)")
      (node (ref J2) (pin 1))
      (node (ref R4) (pin 2))
      (node (ref CN2) (pin 6)))
    (net (code 5) (name "Net-(Q2-Pad2)")
      (node (ref R4) (pin 1))
      (node (ref Q2) (pin 2)))
    (net (code 6) (name "Net-(J2-Pad3)")
      (node (ref J2) (pin 3))
      (node (ref Q2) (pin 1)))
    (net (code 7) (name +5V)
      (node (ref R1) (pin 1))
      (node (ref R2) (pin 1))
      (node (ref R13) (pin 1))
      (node (ref R14) (pin 1))
      (node (ref C2) (pin 2))
      (node (ref CP1) (pin 1))
      (node (ref CN2) (pin 7))
      (node (ref C4) (pin 2))
      (node (ref MD1) (pin 10))
      (node (ref MD2) (pin 10))
      (node (ref R6) (pin 2))
      (node (ref J4) (pin 6))
      (node (ref R5) (pin 2))
      (node (ref J4) (pin 4))
      (node (ref J3) (pin 2))
      (node (ref J3) (pin 4))
      (node (ref J3) (pin 6))
      (node (ref J4) (pin 2)))
    (net (code 8) (name "Net-(J4-Pad1)")
      (node (ref J4) (pin 1))
      (node (ref MD2) (pin 4))
      (node (ref R12) (pin 1)))
    (net (code 9) (name "Net-(J4-Pad3)")
      (node (ref MD2) (pin 3))
      (node (ref R11) (pin 1))
      (node (ref J4) (pin 3)))
    (net (code 10) (name "Net-(J4-Pad5)")
      (node (ref J4) (pin 5))
      (node (ref R10) (pin 1))
      (node (ref MD2) (pin 2)))
    (net (code 11) (name "Net-(J3-Pad5)")
      (node (ref R7) (pin 1))
      (node (ref J3) (pin 5))
      (node (ref MD1) (pin 2)))
    (net (code 12) (name "Net-(J3-Pad1)")
      (node (ref J3) (pin 1))
      (node (ref MD1) (pin 4))
      (node (ref R9) (pin 1)))
    (net (code 13) (name "Net-(J3-Pad3)")
      (node (ref MD1) (pin 3))
      (node (ref J3) (pin 3))
      (node (ref R8) (pin 1)))
    (net (code 14) (name +12V)
      (node (ref C1) (pin 2))
      (node (ref CN2) (pin 9))
      (node (ref MD2) (pin 16))
      (node (ref C3) (pin 2))
      (node (ref CN2) (pin 11))
      (node (ref CN1) (pin 2))
      (node (ref MD1) (pin 16))
      (node (ref CP2) (pin 1))
      (node (ref CP3) (pin 1)))
    (net (code 15) (name "Net-(CN1-Pad3)")
      (node (ref CN1) (pin 3)))
    (net (code 16) (name GND)
      (node (ref MD1) (pin 9))
      (node (ref MD1) (pin 15))
      (node (ref CP1) (pin 2))
      (node (ref R10) (pin 2))
      (node (ref Q1) (pin 3))
      (node (ref CN2) (pin 8))
      (node (ref CN2) (pin 10))
      (node (ref CN2) (pin 12))
      (node (ref Q2) (pin 3))
      (node (ref CP3) (pin 2))
      (node (ref C2) (pin 1))
      (node (ref R7) (pin 2))
      (node (ref R9) (pin 2))
      (node (ref R8) (pin 2))
      (node (ref CN1) (pin 1))
      (node (ref R11) (pin 2))
      (node (ref C3) (pin 1))
      (node (ref MD2) (pin 15))
      (node (ref MD2) (pin 9))
      (node (ref CP2) (pin 2))
      (node (ref C4) (pin 1))
      (node (ref C1) (pin 1))
      (node (ref R12) (pin 2)))
    (net (code 17) (name "Net-(J2-Pad2)")
      (node (ref R6) (pin 1))
      (node (ref MD2) (pin 8))
      (node (ref J2) (pin 2)))
    (net (code 18) (name "Net-(CN2-Pad5)")
      (node (ref CN2) (pin 5))
      (node (ref MD2) (pin 7)))
    (net (code 19) (name "Net-(MD2-Pad5)")
      (node (ref MD2) (pin 6))
      (node (ref R14) (pin 2))
      (node (ref MD2) (pin 5)))
    (net (code 20) (name "Net-(CN4-Pad4)")
      (node (ref MD2) (pin 14))
      (node (ref CN4) (pin 4)))
    (net (code 21) (name "Net-(CN4-Pad3)")
      (node (ref MD2) (pin 13))
      (node (ref CN4) (pin 3)))
    (net (code 22) (name "Net-(CN4-Pad2)")
      (node (ref CN4) (pin 2))
      (node (ref MD2) (pin 12)))
    (net (code 23) (name "Net-(CN4-Pad1)")
      (node (ref CN4) (pin 1))
      (node (ref MD2) (pin 11)))
    (net (code 24) (name "Net-(CN2-Pad4)")
      (node (ref MD2) (pin 1))
      (node (ref R2) (pin 2))
      (node (ref CN2) (pin 4)))
    (net (code 25) (name "Net-(MD1-Pad5)")
      (node (ref R13) (pin 2))
      (node (ref MD1) (pin 6))
      (node (ref MD1) (pin 5)))
    (net (code 26) (name "Net-(CN3-Pad1)")
      (node (ref CN3) (pin 1))
      (node (ref MD1) (pin 11)))
    (net (code 27) (name "Net-(CN3-Pad4)")
      (node (ref MD1) (pin 14))
      (node (ref CN3) (pin 4)))
    (net (code 28) (name "Net-(CN3-Pad3)")
      (node (ref MD1) (pin 13))
      (node (ref CN3) (pin 3)))
    (net (code 29) (name "Net-(CN3-Pad2)")
      (node (ref MD1) (pin 12))
      (node (ref CN3) (pin 2)))
    (net (code 30) (name "Net-(CN2-Pad3)")
      (node (ref CN2) (pin 3))
      (node (ref J1) (pin 1))
      (node (ref R3) (pin 2)))
    (net (code 31) (name "Net-(CN2-Pad2)")
      (node (ref CN2) (pin 2))
      (node (ref MD1) (pin 7)))
    (net (code 32) (name "Net-(CN2-Pad1)")
      (node (ref R1) (pin 2))
      (node (ref MD1) (pin 1))
      (node (ref CN2) (pin 1)))))